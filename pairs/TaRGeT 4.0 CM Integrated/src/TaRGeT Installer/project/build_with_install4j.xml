<!--
 * @(#)build.xml
 *
 * (c) COPYRIGHT 2005 MOTOROLA INC.
 * MOTOROLA CONFIDENTIAL PROPIETARY
 * Template ID and version: IL93-TMP-01-0112  Version 1.10
 *
 * REVISION HISTORY:
 * Author    Date           CR Number    Brief Description
 *  dhq348   Mar 26, 2007   LIBll54505   Initial creation.
 *  dhq348   Apr 03, 2007   LIBll54549   Rework of inspection LX158543
 -->

<!-- ======================================================================
	This is the TaRGeT main script used to build the tool as a installer 
	with Install4J, it calls all the other build scripts.
	In order to run this build script, it is necessary to set the following 
	environment variables:
	
	-> ECLIPSE_HOME: A folder that contains an eclipse installation.
	-> INSTALL4J_HOME: The Install4J installation folder.
	-> TARGET_VERSION: The current tool version.
	======================================================================
-->
<project name="Main_Build" basedir="." default="main">

	<!-- Release folder -->
	<property name="release.folder" value="../release" />
	<!-- Temp folder -->
	<property name="tmp.folder" value="${release.folder}/temp" />

	<!-- Sets the property name to access the environment variables -->
	<property environment="env" />


	<!-- =================================================
	    target: main
		The main target. Depends on external and zipFiles 
		 ================================================= -->
	<target name="main" depends="init, external, zipFiles" />

	<!-- =================================================
			target: init
			The init target. It only creates the temporary folder.
			================================================= -->
	<target name="init">
		<mkdir dir="${tmp.folder}" />
	</target>

	<!-- =========================================================
		 target: external
		 This target calls all the other tool build scripts. 
		 It first builds the tool, compiling all classes, then 
		 creates the tool installer and later creates the javadoc. 
		 ========================================================= -->
	<target name="external">
		<ant antfile="build_TaRGeT.xml" dir="." target="main" />
		<ant antfile="build_Installer.xml" dir="." target="main" />
		<ant antfile="build_javadoc.xml" dir="." target="main" />
	</target>

	<!-- =========================================================
		target: zipFiles
		This target zips all generated files. 
		========================================================= -->
	<target name="zipFiles" description="Zips the installer and all necesssary files">
		<ant antfile="build.xml" dir="." target="zipFiles" />
	</target>
</project>